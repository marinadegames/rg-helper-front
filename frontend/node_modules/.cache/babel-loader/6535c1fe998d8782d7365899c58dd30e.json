{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\temp\\\\frontend\\\\src\\\\Components\\\\popup\\\\Popup.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, memo, useRef, useState } from 'react';\nimport { Dialog, Transition } from '@headlessui/react';\nimport { EditResearchTypePatient } from \"../../Redux/patientsReducer\";\nimport { EditableSpan } from \"../universal components/EditableSpan\";\nimport { useDispatch } from \"react-redux\";\nimport { InputMenuTypes } from \"../InputMenuResearchType/InputMenuTypes\";\nimport { researchTypes, sizeFilms } from \"../../Utils/selectors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Popup = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(_ref => {\n  _s();\n\n  let {\n    patient,\n    open,\n    setOpen\n  } = _ref;\n  // state\n  const dispatch = useDispatch();\n  const cancelButtonRef = useRef(null);\n  const [modeTypeResearch, setModeTypeResearch] = useState(false);\n  const [modeFilms, setModeFilms] = useState(false);\n  const [modeDose, setModeDose] = useState(false);\n\n  const selectTypeRes = (value, idRes, idPat) => {\n    dispatch(EditResearchTypePatient(value, idRes, idPat));\n  };\n\n  const changeModeTypeResearch = e => {\n    e.stopPropagation();\n    setModeTypeResearch(!modeTypeResearch);\n  };\n\n  const changeModeFilms = () => setModeFilms(!modeFilms);\n\n  return /*#__PURE__*/_jsxDEV(Transition.Root, {\n    show: open,\n    as: Fragment,\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      as: \"div\",\n      className: \"flex justify-center items-center fixed z-10 inset-0 overflow-y-auto\",\n      initialFocus: cancelButtonRef,\n      onClose: () => setOpen(!open),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center pt-4 px-4 text-center w-full\",\n        children: [/*#__PURE__*/_jsxDEV(Transition.Child, {\n          as: Fragment,\n          enter: \"ease-out duration-300\",\n          enterFrom: \"opacity-0\",\n          enterTo: \"opacity-100\",\n          leave: \"ease-in duration-200\",\n          leaveFrom: \"opacity-100\",\n          leaveTo: \"opacity-0\",\n          children: /*#__PURE__*/_jsxDEV(Dialog.Overlay, {\n            className: \"fixed inset-0 bg-black bg-opacity-75 transition-opacity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Transition.Child, {\n          as: Fragment,\n          enter: \"ease-out duration-300\",\n          enterFrom: \"opacity-0 translate-y-4\",\n          enterTo: \"opacity-100 translate-y-0\",\n          leave: \"ease-in duration-200\",\n          leaveFrom: \"opacity-100 translate-y-0\",\n          leaveTo: \"opacity-0 translate-y-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col w-10/12 bg-gray-700 rounded-md text-left overflow-hidden shadow-xl transform transition-all\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-800 px-4 pt-1 pb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 text-left\",\n                  children: [/*#__PURE__*/_jsxDEV(Dialog.Title, {\n                    as: \"h3\",\n                    className: \"text-3xl pb-3 text-left leading-6 font-medium text-white\",\n                    children: [\"\\u041F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442 \", patient.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0438\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 76,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: patient.id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 77,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u0424\\u0418\\u041E: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 80,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(EditableSpan, {\n                        title: patient.name,\n                        callback: () => {}\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 81,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u0413\\u043E\\u0434: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 85,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(EditableSpan, {\n                        title: patient.year,\n                        callback: () => {}\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u041F\\u043E\\u043B: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 90,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(EditableSpan, {\n                        title: patient.sex,\n                        callback: () => {}\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u0410\\u0434\\u0440\\u0435\\u0441: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(EditableSpan, {\n                        title: patient.address,\n                        callback: () => {}\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u0418\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"table w-full table bg-gray-800 rounded-md p-3 \",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"table-header-group\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"table-row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"table-cell w-1/3 border border-gray-500 text-left text-xl font-bold p-3\",\n                            children: \"\\u0422\\u0438\\u043F\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 105,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"table-cell w-1/3 border border-gray-500 text-left text-xl font-bold p-3\",\n                            children: \"\\u041F\\u043B\\u0435\\u043D\\u043A\\u0430\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 106,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"table-cell w-1/3 border border-gray-500 text-left text-xl font-bold p-3\",\n                            children: \"\\u0414\\u043E\\u0437\\u0430\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 107,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 104,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"table-row-group\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"table-row transition\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"table-cell border border-gray-500 text-left text-lg p-2 m-0 hover:bg-gray-600 cursor-pointer\",\n                            children: patient.researches.map(typeRes => {\n                              return modeTypeResearch ? /*#__PURE__*/_jsxDEV(InputMenuTypes, {\n                                callback: value => selectTypeRes(value, typeRes.idRes, patient.id),\n                                types: researchTypes\n                              }, typeRes.idRes, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 117,\n                                columnNumber: 79\n                              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                                onClick: changeModeTypeResearch,\n                                children: typeRes.typeRes\n                              }, typeRes.idRes, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 120,\n                                columnNumber: 79\n                              }, this);\n                            })\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 113,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"table-cell border border-gray-500 text-left text-lg p-3 hover:bg-gray-600 cursor-pointer\",\n                            children: patient.researches.map(films => {\n                              return modeFilms ? /*#__PURE__*/_jsxDEV(InputMenuTypes, {\n                                callback: () => {},\n                                types: sizeFilms\n                              }, films.idRes, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 127,\n                                columnNumber: 79\n                              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                                onClick: changeModeFilms,\n                                children: [films.sizeFilm, \"/\", films.amount, \"/\", films.projections]\n                              }, films.idRes, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 129,\n                                columnNumber: 79\n                              }, this);\n                            })\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 123,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex flex-row table-cell border border-gray-500 text-left text-lg p-3 hover:bg-gray-600 cursor-pointer\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: patient.researches.map(dose => {\n                                return /*#__PURE__*/_jsxDEV(\"p\", {\n                                  children: [dose.dose, \" \\u043C\\u0417\\u0432\"]\n                                }, dose.idRes, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 136,\n                                  columnNumber: 80\n                                }, this);\n                              })\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 134,\n                              columnNumber: 65\n                            }, this), patient.researches.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"\\u0421\\u0443\\u043C\\u043C\\u0430\\u0440\\u043D\\u043E: \", patient.researches.reduce((a, b) => a.dose + b.dose), \" \\u043C\\u0417\\u0432\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 139,\n                              columnNumber: 99\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 133,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"my-2 text-2xl text-left flex flex-row\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        className: \"w-1/4 mr-5\",\n                        children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 150,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-800 p-4 flex flex-row justify-end\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"w-1/6 flex items-center justify-center items-center rounded-md mr-2 py-2 px-4 bg-red-200 text-base font-medium text-gray-700 hover:bg-red-300  \",\n                onClick: () => setOpen(!open),\n                ref: cancelButtonRef,\n                children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 13\n  }, this);\n}, \"x+M5Td/G6YvFAJsMQVGdcg2loho=\", false, function () {\n  return [useDispatch];\n})), \"x+M5Td/G6YvFAJsMQVGdcg2loho=\", false, function () {\n  return [useDispatch];\n});\n_c2 = Popup;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Popup$memo\");\n$RefreshReg$(_c2, \"Popup\");","map":{"version":3,"sources":["D:/projects/temp/frontend/src/Components/popup/Popup.tsx"],"names":["React","Fragment","memo","useRef","useState","Dialog","Transition","EditResearchTypePatient","EditableSpan","useDispatch","InputMenuTypes","researchTypes","sizeFilms","Popup","patient","open","setOpen","dispatch","cancelButtonRef","modeTypeResearch","setModeTypeResearch","modeFilms","setModeFilms","modeDose","setModeDose","selectTypeRes","value","idRes","idPat","changeModeTypeResearch","e","stopPropagation","changeModeFilms","name","id","year","sex","address","researches","map","typeRes","films","sizeFilm","amount","projections","dose","length","reduce","a","b"],"mappings":"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","sourcesContent":["import React, {Fragment, memo, useRef, useState} from 'react'\r\nimport {Dialog, Transition} from '@headlessui/react'\r\nimport {EditResearchTypePatient, PatientType} from \"../../Redux/patientsReducer\";\r\nimport {EditableSpan} from \"../universal components/EditableSpan\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {InputMenuTypes} from \"../InputMenuResearchType/InputMenuTypes\";\r\nimport {researchTypes, sizeFilms} from \"../../Utils/selectors\";\r\n\r\ntype PropsType = {\r\n    patient: PatientType\r\n    open: boolean\r\n    setOpen: (value: boolean) => void\r\n}\r\n\r\n\r\nexport const Popup = memo(({patient, open, setOpen}: PropsType) => {\r\n\r\n        // state\r\n        const dispatch = useDispatch()\r\n\r\n        const cancelButtonRef = useRef(null)\r\n\r\n        const [modeTypeResearch, setModeTypeResearch] = useState<boolean>(false)\r\n        const [modeFilms, setModeFilms] = useState<boolean>(false)\r\n        const [modeDose, setModeDose] = useState<boolean>(false)\r\n\r\n        const selectTypeRes = (value: string, idRes: string, idPat: number) => {\r\n            dispatch(EditResearchTypePatient(value, idRes, idPat))\r\n        }\r\n\r\n        const changeModeTypeResearch = (e: any) => {\r\n            e.stopPropagation()\r\n            setModeTypeResearch(!modeTypeResearch)        }\r\n        const changeModeFilms = () => setModeFilms(!modeFilms)\r\n\r\n\r\n        return (\r\n            <Transition.Root show={open} as={Fragment}>\r\n                <Dialog as=\"div\" className=\"flex justify-center items-center fixed z-10 inset-0 overflow-y-auto\"\r\n                        initialFocus={cancelButtonRef}\r\n                        onClose={() => setOpen(!open)}>\r\n                    <div\r\n                        className=\"flex items-center justify-center pt-4 px-4 text-center w-full\">\r\n                        <Transition.Child\r\n                            as={Fragment}\r\n                            enter=\"ease-out duration-300\"\r\n                            enterFrom=\"opacity-0\"\r\n                            enterTo=\"opacity-100\"\r\n                            leave=\"ease-in duration-200\"\r\n                            leaveFrom=\"opacity-100\"\r\n                            leaveTo=\"opacity-0\"\r\n                        >\r\n                            <Dialog.Overlay className=\"fixed inset-0 bg-black bg-opacity-75 transition-opacity\"/>\r\n                        </Transition.Child>\r\n\r\n                        <Transition.Child\r\n                            as={Fragment}\r\n                            enter=\"ease-out duration-300\"\r\n                            enterFrom=\"opacity-0 translate-y-4\"\r\n                            enterTo=\"opacity-100 translate-y-0\"\r\n                            leave=\"ease-in duration-200\"\r\n                            leaveFrom=\"opacity-100 translate-y-0\"\r\n                            leaveTo=\"opacity-0 translate-y-4\"\r\n                        >\r\n                            <div\r\n                                className=\"flex flex-col w-10/12 bg-gray-700 rounded-md text-left overflow-hidden shadow-xl transform transition-all\">\r\n                                <div className=\"w-full bg-gray-800 px-4 pt-1 pb-4\">\r\n                                    <div>\r\n                                        <div className=\"mt-3 text-left\">\r\n                                            <Dialog.Title as=\"h3\" className=\"text-3xl pb-3 text-left leading-6 font-medium text-white\">\r\n                                                Пациент {patient.name}\r\n                                            </Dialog.Title>\r\n                                            <hr/>\r\n                                            <div className='w-full'>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>Номер исследования: </b>\r\n                                                    <label>{patient.id}</label>\r\n                                                </div>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>ФИО: </b>\r\n                                                    <EditableSpan title={patient.name} callback={() => {\r\n                                                    }}/>\r\n                                                </div>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>Год: </b>\r\n                                                    <EditableSpan title={patient.year} callback={() => {\r\n                                                    }}/>\r\n                                                </div>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>Пол: </b>\r\n                                                    <EditableSpan title={patient.sex} callback={() => {\r\n                                                    }}/>\r\n                                                </div>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>Адрес: </b>\r\n                                                    <EditableSpan title={patient.address} callback={() => {\r\n                                                    }}/>\r\n                                                </div>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>Исследования: </b>\r\n                                                </div>\r\n                                                <div className=\"table w-full table bg-gray-800 rounded-md p-3 \">\r\n                                                    <div className=\"table-header-group\">\r\n                                                        <div className=\"table-row\">\r\n                                                            <div className=\"table-cell w-1/3 border border-gray-500 text-left text-xl font-bold p-3\">Тип</div>\r\n                                                            <div className=\"table-cell w-1/3 border border-gray-500 text-left text-xl font-bold p-3\">Пленка</div>\r\n                                                            <div className=\"table-cell w-1/3 border border-gray-500 text-left text-xl font-bold p-3\">Доза</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"table-row-group\">\r\n                                                        <div className=\"table-row transition\">\r\n\r\n                                                            <div className=\"table-cell border border-gray-500 text-left text-lg p-2 m-0 hover:bg-gray-600 cursor-pointer\">\r\n                                                                {patient.researches.map(typeRes => {\r\n                                                                    return (\r\n                                                                        modeTypeResearch\r\n                                                                            ? <InputMenuTypes callback={(value) => selectTypeRes(value, typeRes.idRes, patient.id)}\r\n                                                                                              types={researchTypes}\r\n                                                                                              key={typeRes.idRes}/>\r\n                                                                            : <p onClick={changeModeTypeResearch} key={typeRes.idRes}>{typeRes.typeRes}</p>)\r\n                                                                })}\r\n                                                            </div>\r\n                                                            <div className=\"table-cell border border-gray-500 text-left text-lg p-3 hover:bg-gray-600 cursor-pointer\">\r\n                                                                {patient.researches.map(films => {\r\n                                                                    return (\r\n                                                                        modeFilms\r\n                                                                            ? <InputMenuTypes callback={() => {\r\n                                                                            }} types={sizeFilms} key={films.idRes}/>\r\n                                                                            : <p onClick={changeModeFilms} key={films.idRes}>{films.sizeFilm}/{films.amount}/{films.projections}</p>\r\n                                                                    )\r\n                                                                })}\r\n                                                            </div>\r\n                                                            <div className=\"flex flex-row table-cell border border-gray-500 text-left text-lg p-3 hover:bg-gray-600 cursor-pointer\">\r\n                                                                <div>\r\n                                                                    {patient.researches.map(dose => {\r\n                                                                        return <p key={dose.idRes}>{dose.dose} мЗв</p>\r\n                                                                    })}\r\n                                                                </div>\r\n                                                                {patient.researches.length > 1 && <div>\r\n                                                                    Суммарно: {patient.researches.reduce((a: any, b: any) => a.dose + b.dose)} мЗв\r\n                                                                </div>}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>Описание: </b>\r\n                                                </div>\r\n                                                <div className=\"my-2 text-2xl text-left flex flex-row\">\r\n                                                    <b className='w-1/4 mr-5'>Описание: </b>\r\n\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"bg-gray-800 p-4 flex flex-row justify-end\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"w-1/6 flex items-center justify-center items-center rounded-md mr-2 py-2 px-4 bg-red-200 text-base font-medium text-gray-700 hover:bg-red-300  \"\r\n                                        onClick={() => setOpen(!open)}\r\n                                        ref={cancelButtonRef}>\r\n                                        Закрыть\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </Transition.Child>\r\n                    </div>\r\n                </Dialog>\r\n            </Transition.Root>\r\n        )\r\n    }\r\n)"]},"metadata":{},"sourceType":"module"}